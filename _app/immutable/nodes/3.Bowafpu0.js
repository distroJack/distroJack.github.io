import{s as R,n as N,o as J}from"../chunks/B2QSKqcC.js";import{S as B,i as U,d as f,b as p,p as z,k as x,c as m,e as k,A as K,h as Q,f as _,g as E,l as C,q as G,m as D,j as v,s as I,n as V,w as W,t as X,a as Y,y as Z,z as $,x as ee}from"../chunks/CQFbbJDe.js";const te=typeof window<"u"?window:typeof globalThis<"u"?globalThis:global,se=!0,de=Object.freeze(Object.defineProperty({__proto__:null,prerender:se},Symbol.toStringTag,{value:"Module"})),{document:H}=te;function L(r){let e,t,s="🔥 Heads in a Row:",d,o,l;return{c(){e=v("div"),t=v("span"),t.textContent=s,d=I(),o=v("span"),l=V(r[2]),this.h()},l(n){e=_(n,"DIV",{class:!0});var i=C(e);t=_(i,"SPAN",{class:!0,"data-svelte-h":!0}),G(t)!=="svelte-17prfjc"&&(t.textContent=s),d=E(i),o=_(i,"SPAN",{class:!0});var w=C(o);l=D(w,r[2]),w.forEach(f),i.forEach(f),this.h()},h(){p(t,"class","label"),p(o,"class","value"),p(e,"class","score-item")},m(n,i){k(n,e,i),m(e,t),m(e,d),m(e,o),m(o,l)},p(n,i){i&4&&x(l,n[2])},d(n){n&&f(e)}}}function ae(r){let e,t,s,d,o,l,n,i,w="🏆 Longest Streak:",g,b,S,y,T,h,j,M,F,c=r[4]&&L(r);return{c(){e=v("meta"),t=I(),s=v("div"),o=I(),l=v("div"),n=v("div"),i=v("span"),i.textContent=w,g=I(),b=v("span"),S=V(r[3]),y=I(),c&&c.c(),T=I(),h=v("button"),j=V("Flip the Coin"),this.h()},l(a){const u=Q("svelte-48djns",H.head);e=_(u,"META",{name:!0,content:!0}),u.forEach(f),t=E(a),s=_(a,"DIV",{class:!0,style:!0}),C(s).forEach(f),o=E(a),l=_(a,"DIV",{class:!0});var A=C(l);n=_(A,"DIV",{class:!0});var P=C(n);i=_(P,"SPAN",{class:!0,"data-svelte-h":!0}),G(i)!=="svelte-1axic8j"&&(i.textContent=w),g=E(P),b=_(P,"SPAN",{class:!0});var O=C(b);S=D(O,r[3]),O.forEach(f),P.forEach(f),y=E(A),c&&c.l(A),A.forEach(f),T=E(a),h=_(a,"BUTTON",{class:!0});var q=C(h);j=D(q,"Flip the Coin"),q.forEach(f),this.h()},h(){p(e,"name","viewport"),p(e,"content","width=device-width, initial-scale=1.0"),p(s,"class",d="coin "+(r[0]?"flip":"")),z(s,"background-image","url("+r[1]+")"),p(i,"class","label"),p(b,"class","value"),p(n,"class","score-item"),p(l,"class","scoreboard"),p(h,"class","button"),h.disabled=r[0]},m(a,u){m(H.head,e),k(a,t,u),k(a,s,u),k(a,o,u),k(a,l,u),m(l,n),m(n,i),m(n,g),m(n,b),m(b,S),m(l,y),c&&c.m(l,null),k(a,T,u),k(a,h,u),m(h,j),M||(F=K(h,"click",r[5]),M=!0)},p(a,[u]){u&1&&d!==(d="coin "+(a[0]?"flip":""))&&p(s,"class",d),u&2&&z(s,"background-image","url("+a[1]+")"),u&8&&x(S,a[3]),a[4]?c?c.p(a,u):(c=L(a),c.c(),c.m(l,null)):c&&(c.d(1),c=null),u&1&&(h.disabled=a[0])},i:N,o:N,d(a){a&&(f(t),f(s),f(o),f(l),f(T),f(h)),f(e),c&&c.d(),M=!1,F()}}}const le="/heads.svg",ne="/tails.svg";function oe(r){return new Promise(e=>setTimeout(e,r))}function ie(r,e,t){let s=!1,d="/heads.svg",o=0,l=0,n=!1;J(()=>{document.body.classList.add("coinflip-body");const g=localStorage.getItem("longestStreak");g&&t(3,l=parseInt(g))});async function i(g=10,b=400){t(0,s=!0);let S;for(let y=0;y<g;y++)S=Math.random()<.5,t(1,d=S?le:ne),await oe(b);t(0,s=!1),S?(t(2,o++,o),t(4,n=!0),o>l&&(t(3,l=o),localStorage.setItem("longestStreak",l.toString()))):(t(2,o=0),t(4,n=!1))}function w(){i(4,500)}return[s,d,o,l,n,w]}class re extends B{constructor(e){super(),U(this,e,ie,ae,R,{})}}function ce(r){let e,t;return e=new re({}),{c(){ee(e.$$.fragment)},l(s){$(e.$$.fragment,s)},m(s,d){Z(e,s,d),t=!0},p:N,i(s){t||(Y(e.$$.fragment,s),t=!0)},o(s){X(e.$$.fragment,s),t=!1},d(s){W(e,s)}}}class pe extends B{constructor(e){super(),U(this,e,null,ce,R,{})}}export{pe as component,de as universal};
