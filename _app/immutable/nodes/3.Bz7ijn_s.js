import{s as R,n as M,o as J,d as K}from"../chunks/CD13Pchm.js";import{S as B,i as U,d as f,b as p,p as q,k as x,c as m,e as y,A as Q,h as W,f as _,g as E,l as k,q as G,m as N,j as v,s as I,n as V,w as X,t as Y,a as Z,y as $,z as ee,x as te}from"../chunks/BFswsWWx.js";const se=typeof window<"u"?window:typeof globalThis<"u"?globalThis:global,ae=!0,le=!1,me=Object.freeze(Object.defineProperty({__proto__:null,prerender:ae,ssr:le},Symbol.toStringTag,{value:"Module"})),{document:z}=se;function H(r){let e,t,s="🔥 Heads in a Row:",d,o,l;return{c(){e=v("div"),t=v("span"),t.textContent=s,d=I(),o=v("span"),l=V(r[2]),this.h()},l(n){e=_(n,"DIV",{class:!0});var i=k(e);t=_(i,"SPAN",{class:!0,"data-svelte-h":!0}),G(t)!=="svelte-17prfjc"&&(t.textContent=s),d=E(i),o=_(i,"SPAN",{class:!0});var w=k(o);l=N(w,r[2]),w.forEach(f),i.forEach(f),this.h()},h(){p(t,"class","label"),p(o,"class","value"),p(e,"class","score-item")},m(n,i){y(n,e,i),m(e,t),m(e,d),m(e,o),m(o,l)},p(n,i){i&4&&x(l,n[2])},d(n){n&&f(e)}}}function ne(r){let e,t,s,d,o,l,n,i,w="🏆 Longest Streak:",g,b,S,C,T,h,j,D,F,c=r[4]&&H(r);return{c(){e=v("meta"),t=I(),s=v("div"),o=I(),l=v("div"),n=v("div"),i=v("span"),i.textContent=w,g=I(),b=v("span"),S=V(r[3]),C=I(),c&&c.c(),T=I(),h=v("button"),j=V("Flip the Coin"),this.h()},l(a){const u=W("svelte-48djns",z.head);e=_(u,"META",{name:!0,content:!0}),u.forEach(f),t=E(a),s=_(a,"DIV",{class:!0,style:!0}),k(s).forEach(f),o=E(a),l=_(a,"DIV",{class:!0});var A=k(l);n=_(A,"DIV",{class:!0});var P=k(n);i=_(P,"SPAN",{class:!0,"data-svelte-h":!0}),G(i)!=="svelte-1axic8j"&&(i.textContent=w),g=E(P),b=_(P,"SPAN",{class:!0});var L=k(b);S=N(L,r[3]),L.forEach(f),P.forEach(f),C=E(A),c&&c.l(A),A.forEach(f),T=E(a),h=_(a,"BUTTON",{class:!0});var O=k(h);j=N(O,"Flip the Coin"),O.forEach(f),this.h()},h(){p(e,"name","viewport"),p(e,"content","width=device-width, initial-scale=1.0"),p(s,"class",d="coin "+(r[0]?"flip":"")),q(s,"background-image","url("+r[1]+")"),p(i,"class","label"),p(b,"class","value"),p(n,"class","score-item"),p(l,"class","scoreboard"),p(h,"class","button"),h.disabled=r[0]},m(a,u){m(z.head,e),y(a,t,u),y(a,s,u),y(a,o,u),y(a,l,u),m(l,n),m(n,i),m(n,g),m(n,b),m(b,S),m(l,C),c&&c.m(l,null),y(a,T,u),y(a,h,u),m(h,j),D||(F=Q(h,"click",r[5]),D=!0)},p(a,[u]){u&1&&d!==(d="coin "+(a[0]?"flip":""))&&p(s,"class",d),u&2&&q(s,"background-image","url("+a[1]+")"),u&8&&x(S,a[3]),a[4]?c?c.p(a,u):(c=H(a),c.c(),c.m(l,null)):c&&(c.d(1),c=null),u&1&&(h.disabled=a[0])},i:M,o:M,d(a){a&&(f(t),f(s),f(o),f(l),f(T),f(h)),f(e),c&&c.d(),D=!1,F()}}}const oe="/heads.svg",ie="/tails.svg";function re(r){return new Promise(e=>setTimeout(e,r))}function ce(r,e,t){let s=!1,d="/heads.svg",o=0,l=0,n=!1;J(()=>{document.body.classList="coinflip-body";const g=localStorage.getItem("longestStreak");g&&t(3,l=parseInt(g))}),K(()=>{document.body.classList.remove("coinflip-body")});async function i(g=10,b=400){t(0,s=!0);let S;for(let C=0;C<g;C++)S=Math.random()<.5,t(1,d=S?oe:ie),await re(b);t(0,s=!1),S?(t(2,o++,o),t(4,n=!0),o>l&&(t(3,l=o),localStorage.setItem("longestStreak",l.toString()))):(t(2,o=0),t(4,n=!1))}function w(){i(4,500)}return[s,d,o,l,n,w]}class fe extends B{constructor(e){super(),U(this,e,ce,ne,R,{})}}function ue(r){let e,t;return e=new fe({}),{c(){te(e.$$.fragment)},l(s){ee(e.$$.fragment,s)},m(s,d){$(e,s,d),t=!0},p:M,i(s){t||(Z(e.$$.fragment,s),t=!0)},o(s){Y(e.$$.fragment,s),t=!1},d(s){X(e,s)}}}class he extends B{constructor(e){super(),U(this,e,null,ue,R,{})}}export{he as component,me as universal};
